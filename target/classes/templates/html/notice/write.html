<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<link rel="stylesheet" href="/css/insertAct.css">
	<th:block th:replace="common/head.html"/>
	<link rel="stylesheet" href="/css/boardType.css">
<!--	<style>-->
<!--		#buttonSet {-->
<!--			float: right;-->
<!--			position: relative;-->
<!--			right: -10px;-->
<!--			margin-top: 20px;-->
<!--		}-->
<!--		#reset, #submit {-->
<!--			border: none;-->
<!--			width: 130px;-->
<!--			background: transparent;-->
<!--		}-->
<!--		.key, .content {-->
<!--			float: left;-->
<!--		}-->
<!--		.key {-->
<!--			width: 150px;-->
<!--			text-align: left;-->
<!--			color: #515151;-->
<!--		}-->
<!--		.section1 {-->
<!--			margin-bottom: 30px;-->
<!--		}-->
<!--		textarea {-->
<!--			width: 80%;-->
<!--			height: 300px;-->
<!--		}-->
<!--		input {-->
<!--			width: 400px;-->
<!--			border-radius: 30px;-->
<!--			border: 1px solid #a5a5a5;-->
<!--			color: #b3b3b3;-->
<!--			padding: 0 0 0 10px;-->
<!--			height: 25px;-->
<!--			margin-right: 36px;-->
<!--		}-->
<!--	</style>-->
</head>
<body>
<header th:replace="common/menu :: header"></header>

<div lang="en" th:replace="common/menu :: menu"></div>
	<!-- Summernote Editor -->
	<script>
		$(document).ready(function() {
			$('#summernote').summernote({
				height: 300,
				minHeight: null,
				maxHeight: null,
				focus: true,
				lang: "ko-KR",
				placeholder: '최대 2048자',
				callbacks: {
					onImageUpload: function(files) {
						uploadSummernoteImageFile(files[0], this);
					}
				}
			});
			
			function uploadSummernoteImageFile(file, editor) {
				data = new FormData();
				data.append("file", file);
				$.ajax({
					data : data,
					type : "POST",
					url : "/summernoteFileUpload/uploadSummernoteImageFile",
					contentType : false,
					processData : false,
					success : function(data) {
						console.log(data);
						$(editor).summernote('insertImage', location.origin+data.url);
					},
					error : function(data) {
						console.log(data);
					}
				})
			}
		});
	</script>

	<div id="main">
		<h4>공지 쓰기</h4>

		<form action="/notice/post" method="post" style="width: 100%">
			<input type="hidden" value="0" name="view">
			<div id="actInfo" style="height: 580px;">
				<br>
				<div class="section1">
					<div class="key">
						제목
					</div>
					<div class="content">
						<input type="text" name="title" maxlength="10">
					</div>
				</div>
				<br>
				<div class="section1">
					<div class="key">
						작성자
					</div>
					<div class="content">
						<input type="text" name="writer">
					</div>
				</div>
				<br>
				<div class="section1">
					<div class="key">
						카테고리
					</div>
					<div class="content">
						<span th:text="공지사항" style="color: #494949;"></span>
						<input type="hidden" value="1" name="topCategory">
					</div>
				</div>
				<br>
				<div class="section1" style="margin-bottom: 30px">
					<div class="key">
						하위 카테고리
					</div>
					<div class="content">
						<select name="categoryId">
							<option th:each="categoryOption : ${categoryDto}"
									th:text="${categoryOption.memo}"
									th:value="${categoryOption.id}"/>
						</select>
					</div>
				</div>
				<br>
				<div class="editor_wrap">
					<div class="key">내용</div>
					<textarea name="content" id="summernote"></textarea>
				</div>
			</div>
			<div id="buttonSet">
				<button id="reset" type="button" name="button" onclick="goBack()"><img src="/img/cancle_big.png"/></button>
				<button id="submit" type="submit" name="button"><img src="/img/com_big.png"/></button>
			</div>
		</form>
	</div>
    
    <div lang="en" th:replace="common/footer :: footer"></div>

	<script>
		function goBack() {
			window.history.back();
		}
	</script>
</body>
</html>